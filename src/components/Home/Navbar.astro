---
import { getTranslations, type Language } from '../../i18n';

interface Props {
	lang?: Language;
}

const { lang = 'es' } = Astro.props;
const t = getTranslations(lang);
---

<nav
	class="fixed top-0 z-50 w-full border-b border-[#D9625E]/10 bg-white/80 backdrop-blur-md"
>
	<div class="mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8">
		<div class="flex h-20 items-center justify-between">
			<a href={`/${lang}/`} class="flex items-center gap-2">
				<img src="/favicon.svg" alt="Lumi Logo" class="h-10 w-10" />
				<span
					class="text-3xl font-extrabold tracking-tight text-[#D9625E] sm:text-5xl"
					>Lumi</span
				>
			</a>

			<div
				class="flex items-center gap-2 font-medium text-[#17233d] sm:gap-4"
			>
				<button
					class="inline-flex items-center gap-2 whitespace-nowrap rounded-full bg-[#D9625E] px-3 py-2 text-xs font-bold text-white transition-all hover:opacity-90 cursor-pointer sm:px-6 sm:py-2.5 sm:text-sm"
					type="button"
				>
					{t.home.navbar.downloadApp}
				</button>

				<!-- Language Selector -->
				<details class="relative">
					<summary
						aria-label={t.languageSelector.label}
						class="flex h-9 w-9 cursor-pointer list-none items-center justify-center rounded-full border border-[#d7dce5] bg-white text-[#17233d] transition-colors hover:border-[#D9625E] hover:text-[#D9625E] sm:h-10 sm:w-10 [&::-webkit-details-marker]:hidden"
					>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox="0 0 24 24"
							fill="none"
							stroke="currentColor"
							stroke-width="1.8"
							class="h-5 w-5"
							aria-hidden="true"
						>
							<circle cx="12" cy="12" r="9"></circle>
							<path d="M3 12h18"></path>
							<path
								d="M12 3c2.4 2.5 3.75 5.8 3.75 9S14.4 18.5 12 21c-2.4-2.5-3.75-5.8-3.75-9S9.6 5.5 12 3z"
							></path>
						</svg>
					</summary>
					<div class="absolute right-0 top-12 w-24 overflow-hidden rounded-xl border border-[#d7dce5] bg-white p-1 shadow-lg">
						<a href="/es/" class:list={["block rounded-lg px-3 py-2 text-sm font-semibold text-[#17233d] hover:bg-[#f6f7fa]", { "bg-[#f6f7fa]": lang === 'es' }]}>ES</a>
						<a href="/en/" class:list={["block rounded-lg px-3 py-2 text-sm font-semibold text-[#17233d] hover:bg-[#f6f7fa]", { "bg-[#f6f7fa]": lang === 'en' }]}>EN</a>
						<a href="/pt/" class:list={["block rounded-lg px-3 py-2 text-sm font-semibold text-[#17233d] hover:bg-[#f6f7fa]", { "bg-[#f6f7fa]": lang === 'pt' }]}>PT</a>
					</div>
				</details>
			</div>
		</div>
	</div>
</nav>
